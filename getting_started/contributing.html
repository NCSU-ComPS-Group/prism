<!DOCTYPE html><head><meta charset="UTF-8"><title>PRISM Code Standards | PRISM</title><link href="../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/civet_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/ncsu.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../contrib/jquery/jquery.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">PRISM</a><a href="https://github.ncsu.edu/NCSU-ComPS-Group/prism" class="right"><img src="../media/framework/github-logo.png" class="github-mark"></img><img src="../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="../doxygen/html/annotated.html">Doxygen</a></li><li><a href="#!" class="dropdown-trigger" data-target="82dce35d-a46a-4a63-a0d9-57ba5b6be23f" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="contributing.html">Contributing</a></li></ul><a href="#" class="sidenav-trigger" data-target="dde25af1-434c-4fad-a4d1-e8503cbf456b"><i class="material-icons">menu</i></a><ul class="sidenav" id="dde25af1-434c-4fad-a4d1-e8503cbf456b"><li><a href="../doxygen/html/annotated.html">Doxygen</a></li><li><a href="#!" class="dropdown-trigger" data-target="5b1f6e99-54a4-4012-916e-63a47e3dab6b" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="contributing.html">Contributing</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="82dce35d-a46a-4a63-a0d9-57ba5b6be23f"><li><a href="installation.html">Installation</a></li><li><a href="input_syntax.html">Input Syntax</a></li><li><a href="syntax_support.html">Syntax Support</a></li><li><a href="example.html">Example</a></li></ul><ul class="dropdown-content" id="5b1f6e99-54a4-4012-916e-63a47e3dab6b"><li><a href="installation.html">Installation</a></li><li><a href="input_syntax.html">Input Syntax</a></li><li><a href="syntax_support.html">Syntax Support</a></li><li><a href="example.html">Example</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/index.md" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><span class="breadcrumb">getting_started</span><a href="#" class="breadcrumb">contributing</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><p>PRISM is fully open source and we are open to outside contributions but ask that any contributers follow our development guidelines. Information in this page is intended to help facilitate this.</p><section id="331b4320-a4fd-46d1-bdb9-4c74108b6e17" data-section-level="1" data-section-text="PRISM Code Standards"><h1 id="prism-code-standards">PRISM Code Standards</h1><p>For the most part PRISM follows the MOOSE code standards for all development. For information on file guidelines, naming conventions, example code, doxygen documentation, and other tips, please see <a href="https://mooseframework.inl.gov/fenix/sqa/framework_scs.html">the MOOSE standard here</a>. Some exceptions in the MOOSE standard that can be ignored are the sections: Index Variables in Looping Constructs, Trailing Whitespace and Tabs, Python.</p></section><section id="063c07d4-641a-4e52-ad4b-90b23be7871d" data-section-level="1" data-section-text="Creating a new environment"><h1 id="creating-a-new-environment">Creating a new environment</h1><p>If you are interested in contributing you will need to download the <a href="https://anaconda.org/gsgall/prism-dev">prism-dev</a> conda package to facilitate development. This package installs out dependcies and helps set environment variables needed or compilation. To create a new development evironment please use the following commands</p><pre class="moose-pre"><code class="language-bash">
  conda create -n prism-dev
</code></pre><pre class="moose-pre"><code class="language-bash">
  conda activate prism-dev
  conda config --add channels gsgall
  conda install prism-dev
</code></pre><section class="scrollspy" id="188d2c58-1518-46fd-9728-45f4af68835b" data-section-level="2" data-section-text="Creating and Referencing Issues"><h2 id="creating-and-referencing-issues">Creating and Referencing Issues</h2><div style=";text-align:left"><p>When finding an issue with the code, or developing/suggesting a new feature or enhancement, an issue should be created. This can be done ahead of time when developing code, or anytime before pushing your changes. In any case, you will need to list an issue number in one of your commits! To get started:</p></div><ol class="browser-default" start="1"><li><p>Select “New issue” on this page: <a href="https://github.com/NCSU-ComPS-Group/prism/issues">https://github.com/NCSU-ComPS-Group/prism/issues</a> </p></li><li><p>Select either “bug report” or “feature request” (most should be feature requests) </p></li><li><p>Provide issue descriptions of a couple of sentences (or as much as you see fit) following the prompts. </p></li><li><p>Create issue</p></li></ol><p>You will now have an issue number next to the title. We will use it to link the pull request (PR) to the issue.</p></section><section class="scrollspy" id="a3f6fc26-f13a-46d8-888d-31aaeac28bf2" data-section-level="2" data-section-text="Work in a GitHub fork"><h2 id="work-in-a-github-fork">Work in a GitHub fork</h2><div style=";text-align:left"><p>PRISM development follows a &quot;Fork &amp; Pull&quot; development process. See more information on <a href="https://guides.github.com/activities/forking">forking repositories in the GitHub documentation</a>.</p></div><section id="9c021b12-d003-40d8-bf7f-c1ba2c6fd249" data-section-level="3" data-section-text="Fork PRISM and clone"><h3 id="fork-prism-and-clone">Fork PRISM and clone</h3><ol class="browser-default" start="1"><li><p>Navigate to <a href="https://github.com/NCSU-ComPS-Group/prism">the PRISM repository</a> </p></li><li><p>Click the &quot;Fork&quot; button on the upper right of the code file tree to have a copy of FENIX in your own account </p></li><li><p>Clone your new fork to your local machine using the following command (this assumes you <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">have SSH set up on your GitHub account</a>):</p><pre class="moose-pre"><code class="language-text">
cd ~/projects
git clone git@github.com:&lt;your_user_name&gt;/prism.git
</code></pre><p>In your local copy, this clone URL is given the shorthand name &quot;origin&quot;. This will become relevant later in this document.</p></li></ol></section><section id="c910140f-02b9-4e7f-8fc6-c969aa02d714" data-section-level="3" data-section-text="Add an upstream git remote"><h3 id="add-an-upstream-git-remote">Add an upstream git remote</h3><div style=";text-align:left"><p>Add the main PRISM repository as an &quot;upstream&quot; git remote, so that you can <a href="https://git-scm.org/docs/git-fetch">git fetch</a> updates from the main repository:</p></div><pre class="moose-pre"><code class="language-text">
cd ~/projects/prism
git remote add upstream git@github.com:idaholab/fenix.git
</code></pre><p>To fetch changes, run:</p><pre class="moose-pre"><code class="language-text">
git fetch upstream
</code></pre></section></section><section class="scrollspy" id="e9695b33-a8c9-41ba-89a6-4b7091e3985c" data-section-level="2" data-section-text="Creating a new branch"><h2 id="creating-a-new-branch">Creating a new branch</h2><p>Before make any changes locally (which would require having a working version of the application), we will need to create a new branch.</p><ol class="browser-default" start="1"><li><p>In your terminal, go to your application:</p><pre class="moose-pre"><code class="language-text">
cd ~/projects/prism
</code></pre><p></p></li><li><p>It is usually best to make sure your changes are based on devel:</p><pre class="moose-pre"><code class="language-text">
git checkout devel
</code></pre><p></p></li><li><p>Clean and reset devel to get it up to date (make sure you do not have any changes on devel, because you would lose that):</p><pre class="moose-pre"><code class="language-text">
git reset --hard upstream/devel &amp;&amp; git submodule update --init
</code></pre><p></p></li><li><p>Create new branch:</p><pre class="moose-pre"><code class="language-text">
git checkout -b &lt;BRANCH_NAME&gt;
</code></pre></li></ol></section><section class="scrollspy" id="37c1dc4f-e7e4-4d2a-9668-dc738f80f95c" data-section-level="2" data-section-text="Make modifications and commit ( the regular development workflow )"><h2 id="make-modifications-and-commit-the-regular-development-workflow">Make modifications and commit (the regular development workflow)</h2><p>At this point, you have a local branch that is up to date with the upstream remote. You’re now ready to make your changes. Remember, <em></em>small, consistent changes** are much better than dumping massive, unrelated changes all at once.</p><ol class="browser-default" start="1"><li><p>Make your changes locally to address the issue (partly or fully) </p></li><li><p>In your terminal, go to your application:</p><pre class="moose-pre"><code class="language-text">
cd ~/projects/prism/test
</code></pre><p></p></li><li><p>Make sure that the app still compiles and that the tests run:</p><pre class="moose-pre"><code class="language-text">
make -j6 &amp;&amp; ./run_tests -j6
</code></pre><p>If you modified the documentation, you can then build and test it locally:</p></li></ol><div class="card moose-alert moose-alert-note"><div class="card-title moose-alert-title"><i class="material-icons moose-inline-icon">comment</i><span class="moose-alert-title-brand">note</span></div><div class="card-content"><div class="moose-alert-content"><p>Since we rely on <a href="https://mooseframework.inl.gov/python/MooseDocs/">MooseDocs</a> for our documentation you will need to run these commands in the moose environment. Instructions on this can be found <a href="https://mooseframework.inl.gov/getting_started/installation/conda.html">here</a></p></div></div></div><p>   <code></code>`     cd ~/projects/prism/doc/moose/test     make hit     cd ../../     MOOSE_DIR=moose ROOT_DIR=./ ./moosedocs.py build &ndash;num-threads 4 &ndash;destination site    <code></code>`</p><ol class="browser-default" start="1"><li><p>Type <code>git status</code> to see the status of your branch. That should show you the changed files and give you some commands to stage them. </p></li><li><p>Once you are ready, perform</p><pre class="moose-pre"><code class="language-text">
git add &lt;FILE_NAME_1&gt; &lt;FILE_NAME_2&gt; &lt;FILE_NAME_3&gt; ...
</code></pre><p>to stage your updated files. </p></li><li><p>At that point, it is usually good practice to run</p><pre class="moose-pre"><code class="language-text">
git clang-format HEAD~1
</code></pre><p>to fix the formatting of the files based on the <code>.clang-format</code> file in the root of the repository. If files are changed, run</p><pre class="moose-pre"><code class="language-text">
git add &lt;...&gt;
</code></pre><p>for these files. </p></li><li><p>Now you’re ready to commit. Run</p><pre class="moose-pre"><code class="language-text">
git commit
</code></pre><p></p></li><li><p>A file editor will appear. Press the <code>i</code> key, and you’ll be able to type a short description of the commit. It is good practice to have a short title, and then a list of items describing the changes in more detail. At the bottom, you should add <code>(Ref. #&lt;ISSUE_NUMBER&gt;)</code>. It will look something like this:</p><pre class="moose-pre"><code class="language-text">
Updating this to enable that:
- Update this file to do this
- Update documentation to reflect that change
- Create new test for new capability
- Update existing gold files to reflect change

(Ref. #1234)
</code></pre><p></p></li><li><p>To exit and save, press <code>esc</code>, then type <code>:wq</code>. The commit file will close. </p></li><li><p>You might have to do several commits to capture all your changes.</p></li></ol></section><section class="scrollspy" id="308d38a6-f465-4c8d-bbd2-35202f41a40e" data-section-level="2" data-section-text="Pushing and submitting PRISM changes"><h2 id="pushing-and-submitting-prism-changes">Pushing and submitting PRISM changes</h2><p>At some point, you&#x27;ll be ready to push your work to your fork and submit the changes as a pull request (PR). To do this follow the following steps.</p><ol class="browser-default" start="1"><li><p>To push your work to your fork (remember, it has the remote name <code>origin</code>) run:</p><pre class="moose-pre"><code class="language-text">
git push origin &lt;BRANCH_NAME&gt;
</code></pre><p></p></li><li><p>A link will be printed in the terminal; visit that page. </p></li><li><p>There, you’ll find instructions to create your PR. Fill out the form (one can simply copy what is in the commit messages, or write a custom summary of your own) and submit your PR! </p></li><li><p>To notify others (or the FENIX development team), you can also tag people in your PR to get their attention.</p></li></ol></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#188d2c58-1518-46fd-9728-45f4af68835b" class="tooltipped" data-position="left" data-tooltip="Creating and Referencing Issues">Creating and Referencing Issues</a></li><li><a href="#a3f6fc26-f13a-46d8-888d-31aaeac28bf2" class="tooltipped" data-position="left" data-tooltip="Work in a GitHub fork">Work in a GitHub fork</a></li><li><a href="#e9695b33-a8c9-41ba-89a6-4b7091e3985c" class="tooltipped" data-position="left" data-tooltip="Creating a new branch">Creating a new branch</a></li><li><a href="#37c1dc4f-e7e4-4d2a-9668-dc738f80f95c" class="tooltipped" data-position="left" data-tooltip="Make modifications and commit ( the regular development workflow )">Make modifications and commit ( the regular development workflow )</a></li><li><a href="#308d38a6-f465-4c8d-bbd2-35202f41a40e" class="tooltipped" data-position="left" data-tooltip="Pushing and submitting PRISM changes">Pushing and submitting PRISM changes</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../js/init.js"></script><script type="text/javascript" src="../js/navigation.js"></script><script type="text/javascript" src="../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../js/search_index.js"></script><script type="text/javascript" src="../js/sqa_moose.js"></script>